CREATE USER backender WITH PASSWORD 'XXXXXXXXXXXXXXXXXXXXXXXS';
GRANT USAGE ON SCHEMA backend TO backender;
GRANT SELECT, INSERT, UPDATE, DELETE ON ALL TABLES IN SCHEMA backend TO backender;
GRANT USAGE, SELECT ON ALL SEQUENCES IN SCHEMA backend TO backender;

CREATE USER challenger WITH PASSWORD 'XXXXXXXXXXXXXXXXXXXXXX';
GRANT USAGE ON SCHEMA challenge TO challenger;
GRANT SELECT ON ALL TABLES IN SCHEMA challenge TO challenger;


GRANT USAGE ON SCHEMA backend TO app;
GRANT SELECT, INSERT, UPDATE, DELETE ON ALL TABLES IN SCHEMA backend TO app;
GRANT USAGE, SELECT ON ALL SEQUENCES IN SCHEMA backend TO app;

GRANT USAGE ON SCHEMA challenge TO app_read_only;
GRANT SELECT ON ALL TABLES IN SCHEMA challenge TO app_read_only;

--others

ALTER USER backender WITH PASSWORD 'XXXXXXXXXXXXXXXXXXXXXXX';

CREATE DATABASE challenge_db;
CREATE DATABASE backend_db;

REVOKE ALL PRIVILEGES ON ALL TABLES IN SCHEMA public FROM challenger;
REVOKE ALL PRIVILEGES ON ALL TABLES IN SCHEMA public FROM backend;